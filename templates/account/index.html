{% extends 'base.html' %}
{% load static %}

{% block content %}

<main class="main">

    <div class="left">
        <div class="account">
            
            <img src="{% static 'images/my/desert.png' %}" alt="">
            <h5>Abdulrahman Yasser</h5>
            <h5>+20 122 108 2507</h5>
            <ul>
                <i class="fas fa-plus" onclick="Show(Elements=List, show='.add', type='flex')" id="adds"></i>
                <i class="fas fa-edit" onclick="Show(Elements=List, show='.edit', type='flex')" id="edits"></i>
                <i class="fas fa-cog" onclick="Show(Elements=List, show='.config', type='flex')" id="configs"></i>
            </ul>
            <!-- <div class="search">
                <i class="fa fa-search"></i>
                <input type="text" placeholder="Search or Start New Chat ..." autocomplete="off" name="search_user">
            </div> -->
        </div>
        <div class="list">
            <div class="user" onclick="Show(Elements=List, show='.right_user', type='block')">
                <img src="{% static 'images/my/one.png' %}" alt="">
                <div class="title">
                    <h5>+20 122 108 3507</h5>
                    <p>this is my first</p>
                </div>
                <div class="time">
                    <p class="last">Monday</p>
                    <!--
                    <p class="count">5</p>
                    -->
                </div>
            </div>
            
        </div>
    </div>

    <div class="right">
        <div class="default" style="display:flex">
            <div class="content">
                <img src="{% static 'images/my/w2.png' %}" alt="">
                <h2>Keep your Device Connected to the Internet</h2>
                <p>WhatsApp Connects to your Phone to sync Messages. To reduce Cellular Data usage,<br>
                    Make sure your Phone is Connected to the Internet through a Wi-Fi Network.</p>
            </div>
        </div>
        <i class="fas fa-angle-double-right" id="icon_back"></i>
        <div class="right_user" style="display:none">
            <div class="nav_user">
                <ul class="user_info">
                    <li>
                        <img src="{% static 'images/my/three.png' %}" alt="">
                    </li>
                    <li>
                        <h4>Abdulrahman Yasser</h4>
                        <p>Online</p>
                    </li>
                </ul>
                <div class="search">
                    <i class="fa fa-search" id="start_search"></i>
                    <input type="text" name="search_message" placeholder="Search In Messages" autocomplete="off">
                </div>         
                <ul>
                    <i class="fa fa-search" onclick="show_search()" id="icon_search"></i>
                    <i class="fas fa-ellipsis-v" id="icon_options"></i>
                    <i class="fas fa-angle-right" id="back_search" style="display:none"></i>
                </ul>
            </div>
            <div class="options">
                <ul>
                    <li>Account Information</li>
                    <li>Select Messages</li>
                    <li>Mute Notifications</li>
                    <li>Delete Massages</li>
                    <li>Delete Chat</li>
                </ul>
            </div>
            <div class="header_user">
                <div class="msg-options">
                    <ul>
                        <li>Message Information</li>
                        <li>Replay</li>
                        <li>Download</li>
                        <li>highlight Message</li>
                        <li>Resend</li>
                        <li>Delete Message</li>
                    </ul>
                </div>
                <div class="start">
                    <p><i class="fas fa-lock"></i>
                      Calls are fully encrypted between combination. No one Out This conversation
                        Or Whatsapp Company Can listen to it or read it. 
                    </p>
                </div>
                <div class="day"> <p>17/2/2022</p> </div>

                <div class="down" onclick="go_bottom('.header_user')" style="display:none"><i class="fa fa-angle-down"></i></div>
            </div>
            <div class="show-file">
                
                <div class="selected-file">
                    <div class="close"><div class="close-file">&#x2715;</div></div>
                    <div class="file"><img src="" alt=""></div>
                    <h2></h2>
                </div>
                <hr>
                <div class="small-icon">
                    <div class="all"></div>
                    <div class="next-button" id="right"><i class="fas fa-angle-left"></i></div>
                    <div class="prev-button" id="left"><i class="fas fa-angle-right"></i></div>
                </div>
            </div>
            <div class="footer_user">
                <div class="content">
                    <div class="write">
                        <i class="fa fa-times-circle" id="close-emo" style="display:none"></i>
                        <i class="far fa-smile" id="emotion"></i>
                        <i class="fas fa-paperclip" id="select-icon"></i>
                        <div class="input-message">
                            <textarea row="1" contenteditable class="message" maxlength="65000" placeholder="Write Message" ></textarea>
                        </div>
                        <i class="fas fa-microphone" id="start"></i>
                        <i class="fa fa-paper-plane" id="send-message"></i>
                    </div>
                    <div class="record">
                        <i class="fa fa-trash" id="clean"></i>
                        <audio controls autoplay muted class="player"></audio>
                        <audio controls class="voice"></audio>
                        <i class="fas fa-stop" id="stop"></i>
                        <i class="fas fa-microphone" id="new_record"></i>
                        <i class="fa fa-paper-plane" id="send"></i>
                    </div>
                    <div class="selected">
                        <i id="user" class="fa fa-user" title=" Users " style="background-color:rgb(3, 138, 179)"></i>
                        <i id="file" class="fas fa-file"  title=" Document " style="background-color:rgb(126, 0, 199)"></i>
                        <i id="camera" class="fas fa-camera"  title=" Camera " style="background-color:rgb(224, 7, 36)"></i>
                        <i id="image" class="fas fa-image"  title=" Image - Video " style="background-color:rgb(0, 199, 99)"></i>
                    </div>
                    <div class="emotions">
                        <div class="hash">
                            <i class="fa fa-clock"></i>
                            <i class="fa fa-smile" id="smile"></i>
                        </div>
                       <div class="icons">
                            {% include 'account/code.html' %}
                       </div>
                    </div>
                </div>
            </div> 
            <div class="search_message">
                <div class="content">
                    <p>This is My First Message Here ... This is My First Message Here 
                        rst Message Here rst Message Here ...This is My First Message Here ... 
                        rst Message Here rst Message Here ...This is My First Message Here ... </p>
                    <span> <sub> 12:09  </sub></span>
                </div>      
            </div>    
        </div>
        <div class="edit">
            <div class="content">
                <div class="base">
                    <div class="image">
                        <img src="{% static 'images/my/desert.png' %}" alt="">
                        <div class="p">
                            <p> 
                                <i class="fas fa-camera"></i>
                                <span> Edit Image </span>
                            </p>
                        </div>
                    </div>
                    <h3>+20 122 108 3507</h3>
                </div>
                <form method="POST">
                    <label>User Name : </label>
                    <input type="text" name="name" placeholder="Edit User Name " value="">
                    <label>E-mail :</label>
                    <input type="email" name="email" placeholder="Edit The E-mail"  value="">
                    <label>Password :</label>
                    <input type="password" name="password1" placeholder="Edit The Password"  value="">
                    <label>Password (again) :</label>
                    <input type="password" name="password2" placeholder="Confirm The Password"  value="">
                    <input type="submit" name="submit" value="Save">
                </form>
            </div>
        </div>  
        <div class="add">
            <div class="content">
                <h1>Start New Chat</h1>
                <hr>
                <form method="POST">
                    <label> <i class="fa fa-user"></i> Add New Friend</label>
                    <input type="text" name="new_user" placeholder="User Phone Number" required>
                    <input type="submit" name="add" value="Add">
                </form>
                
                <form method="POST">
                    <label> <i class="fa fa-users"></i> Create New Group</label>
                    <input type="text" name="new_group" placeholder="Group Name" required>
                    <input type="submit" name="Create" value="Create">
                </form>
            </div>
        </div>
        <div class="config">
            <div class="content">
                <div class="image">
                    <img src="{% static 'images/my/desert.png' %}" alt="">
                    <div class="info">
                        <h3>Abdulrahman Yasser</h3>
                        <p>+20 122 108 3507</p>
                    </div>
                </div>
                <ul>
                    <li><i class="fa fa-bell"></i> <span>Notifications</span> </li>
                    <li><i class="fa fa-image"></i> <span>Background</span> </li>
                    <li><i class="fas fa-ban"></i> <span>Forbidden Accounts</span> </li>
                    <li><i class="fa fa-keyboard"></i> <span>Keyboard shortcuts</span> </li>
                    <li><i class="fas fa-desktop"></i> <span>Computer Config</span> </li>
                    <li><i class="fa fa-question-circle"></i> <span>Help</span> </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="clear"></div>

</main>

<div class="note">
    <div class="message">
        <p>
            <i class="fa fa-exclamation-triangle"></i>
            this is not correcnt !
        </p>
        <button>Close</button>
    </div>
</div>

<input type='file' class='selector' multiple style='display:none'>

<script>
    
    time = 0;
    $(".user").click(function(){
        if (time == 0) {
            time++;
            var element  = document.querySelector(".header_user");
            element.scrollTop = element.scrollHeight - element.clientHeight;
        }
        $(".search_message").css("display","none");
        $("#back_search").css("display","none");
        $(".footer_user").css("display","block");
        $(".header_user").css("display","block");
        $("#icon_options").css("display","flex");
        $(".show-image").css("display", "none");
        
    })
    $("#back_search").click(function(){
        $(".search_message").css("display","none");
        $("#back_search").css("display","none");
        $(".footer_user").css("display","block");
        $(".header_user").css("display","block");
        $("#icon_options").css("display","flex");
    })
    $("html").css("overflow", "hidden");
    $("html").css("font-size","93%");

    function set_Height(){

        // set size ..
        var width = $(window).width();
        var height = $(window).height();
        var nav_height = $("nav").height();
        $(".main").css({"height":height - nav_height});

        $(document).click(function(){
            var nav_height = $("nav").height();
            $(".main").css({"height":height - nav_height});
        })

        // header message height ...
        var footer_height = 65.9;
        var nav_user_height = 49;
        if (width < 400) nav_user_height = 43;
        let header_height = height - (footer_height + nav_height + nav_user_height);
        $(".main .right_user .header_user").css("height", `${header_height}px`);

        // height of search_messages ...
        let search_height = height - (nav_height + nav_user_height);
        $(".main .right_user .search_message").css("height", `${search_height - 15}px`);   
        
        // height of show-file-selected ...
        let show_height = height - (footer_height + nav_height);
        $(".main .right_user .show-file").css("height", `${show_height}px`); 
          
        
    }
    
    $(window).on("load resize scroll",function(e){

        var width = $(window).width();
  
        set_Height();
        
        if (width < 600){
            $(".main .right_user #icon_search").click(function(){
                $(".main .right .right_user .nav_user .user_info").css({
                    "display": "none"
                });
            })
        }
        
        if (width < 1000){
            min_whats();
        }

    });
    
    $(".main .right #icon_back").click(function(){
        $(".main .right").css("display", "none");
        $(".main .left").css("display", "block");
        $(".close-file").click();
    })
    set_Height();
    function min_whats(){
        $(".left .list .user, .left .account #adds,\
            .left .account #edits, .left .account #configs ").click(function(){
            $(".main .right").css("display","block");
            $(".main .left").css("display","none");
            $(".main .right .default").css("display","none");
            var element  = document.querySelector(".header_user");
            element.scrollTop = element.scrollHeight - element.clientHeight;

            $(".close-file").click();
        });
        

   }

    
    function Show_Image(){
        
        $(".close-file").click(function(){
            $(".header_user").css("display","block");
            $(".nav_user").css("display","flex");
            $(".show-file").css("display","none");
            $(".input-message .message").blur();
            $(".selector").val("");
            $(".all .icon-file").remove();
            $(".selected-file .file").html("");
        })

        
    }

    Show_Image();

    $(".note button").click(function(){
        $(".note").css("display","none")
    })
    
    
</script>

{% endblock %}
